extends layout

block content
  if client
    h1 Edit Client
  else
    h1 Create Client
  br
  form.needs-validation(method='POST' action=(entry ? '/users/edit' : '/users/create') id="form_registration" novalidate)
    .row
      .col
        label First Name:
        input.form-control(name='first_name' type='text' value=(client ? client.first_name : '') required maxlength='25')
      .col
        label Last Name:
        input.form-control(name='last_name' type='text' value=(client ? client.last_name : '') required maxlength='25')
    .row
      .col
        label Email:
        input.form-control(name='email' type='email', value=(client ? client.email : '') required maxlength='50') 
    br
    h2 Business Info
    .row
      .col 
        label Organization:
        input.form-control(name='organization' type='text' value=(client ? client.organization : '') required maxlength='25')
      .col 
        label Department:
        input.form-control(name='department' type='text' value=(client ? client.department : '') required maxlength='25')
      .col 
        label Research Area:
        select.custom-select(name='research_area' id='research_area')
          option(value='' selected)
          option(value='cancer') Cancer
          option(value='neuroscience') Neuroscience
          option(value='stem_cell') Stem Cell
          option(value='virology') Virology
          option(value='epigenetics') Epigenetics
          option(value='cardiovascular_disease') Cardiovascular Disease
    .row
      .col 
        label Address:
        textarea.form-control(rows="5" name="address") #{(client) ? client.address : ""}
    .form-row
      .col-md
        label City:
        input.form-control(name='city' type='text' value=(client ? client.city : '') maxlength='25' required)
        div.invalid-feedback We need to know where you live!
      .col-sm-90
        label State:
        select.custom-select(name='state' disabled)
          option(value=(client ? client.state : '') selected)=(client ? client.state : '')
      .col-sm-90
        label ZIP:
        input.form-control(name='zip' type='text' value=(client ? client.zip : '') pattern='[0-9]*' maxlength="5" required)
    .row 
      .col
        label Phone:
        input.form-control(name='phone' type='text' value=(client ? client.phone : '') pattern="^[1-9]{1}\\d{5}\\d{4}$" required='true')
        div.invalid-feedback Please enter a 10-digit phone number without any dashes or parentheses.
    br
    h2 Payment
    .row 
      .col
        label Payment Method:
        select.custom-select(name='payment' id='payment' required)
          option(value='' selected disabled hidden) 
          option(value='check' selected=(client != null && client.payment === 'check')) Check
          option(value='po' selected=(client != null && client.payment === 'po')) Purchase Order
          option(value='cc' selected=(client != null && client.payment === 'cc')) Credit/Debit Card
      .col(id='po_num_col' hidden)
        label PO #:
        input.form-control(name='po_num' type='text' value=(client ? client.po_num : ""))  
    span(style="float: right; padding: 10px 0px 10px 0px;")
      input(type='hidden' name='id' value=(cilent ? client.id : ''))
      input.btn.btn-primary(type='submit' value=(client ? 'Update' : 'Create'))
    if client
      span(style="float: left; padding: 10px 0px 10px 0px;")
        input.btn.btn-danger(type='button' value="Delete" disabled)
      script(src='/js/regval.js')